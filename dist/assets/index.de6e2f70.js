var O=Object.defineProperty,x=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var I=(e,t,s)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,d=(e,t)=>{for(var s in t||(t={}))y.call(t,s)&&I(e,s,t[s]);if(_)for(var s of _(t))T.call(t,s)&&I(e,s,t[s]);return e},g=(e,t)=>x(e,P(t));import{r as L,o as D,c as R,a as C,d as m,v as u,i as U,P as $,g as c,b as N,u as B,w as l,s as V,G as F,e as q,f as W,h as z,D as G,j as H,k as K,l as j,m as M,n as X,p as Y}from"./vendor.a7353654.js";const Z=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}};Z();var b=(e,t)=>{const s=e.__vccOpts||e;for(const[r,o]of t)s[r]=o;return s};const J={};function Q(e,t){const s=L("router-view");return D(),R(s)}var ee=b(J,[["render",Q]]);const te="modulepreload",k={},se="/",i=function(t,s){return!s||s.length===0?t():Promise.all(s.map(r=>{if(r=`${se}${r}`,r in k)return;k[r]=!0;const o=r.endsWith(".css"),n=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${n}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":te,o||(a.as="script",a.crossOrigin=""),a.href=r,document.head.appendChild(a),o)return new Promise((E,A)=>{a.addEventListener("load",E),a.addEventListener("error",A)})})).then(()=>t())},re={},oe={class:"w-screen h-screen flex justify-center items-center bg-white text-3xl text-grey-6"};function ne(e,t,s,r,o,n){return D(),C("div",oe," 404 | Not Found ")}var ae=b(re,[["render",ne]]);const p=e=>{const t=[],s=e.length;for(let r=0;r<s;r++)e[r].order!==s-r&&(e[r].order=s-r,t.push({id:e[r].id,order:s-r}));return t},ie=[{id:"1",createdAt:new Date().toISOString(),name:"Board 1",description:"Board 1 Description",order:4},{id:"2",createdAt:new Date().toISOString(),name:"Board 2",description:"Board 2 Description",order:2},{id:"3",createdAt:new Date().toISOString(),name:"Board 3",description:"Board 3 Description",order:3},{id:"4",createdAt:new Date().toISOString(),name:"Board 4",description:"Board 4 Description",order:1},{id:"5",createdAt:new Date().toISOString(),name:"Board 5",description:"Board 5 Description",order:5}],de={id:"2",createdAt:new Date().toISOString(),name:"Board 2",description:"Board 2 Description",order:2,stages:[{id:"1",name:"Backlog",order:1,tasks:[{id:"1",name:"Backlog Task 1",description:"Backlog Task 1 Description",color:"#99F997",order:1,stageId:"1",assignee:"Assignee 1",statusId:"3",dueDate:new Date().toISOString()},{id:"2",name:"Backlog Task 2",description:"Backlog Task 2 Description",color:"#99F997",order:2,stageId:"1",assignee:"",statusId:"1",dueDate:new Date().toISOString()},{id:"3",name:"Backlog Task 3",description:"Backlog Task 3 Description",color:"#99F997",order:3,stageId:"1",assignee:"Rakib Sazib",statusId:"2",dueDate:new Date().toISOString()},{id:"4",name:"Backlog Task 4",description:"Backlog Task 4 Description",color:"#99F997",order:3,stageId:"1",assignee:"Rakib Sazib",statusId:"2",dueDate:new Date().toISOString()},{id:"5",name:"Backlog Task 5",description:"Backlog Task 5 Description",color:"#99F997",order:5,stageId:"1",assignee:"Rakib Sazib",statusId:"2",dueDate:new Date().toISOString()}]},{id:"2",name:"Stage 2",order:2,tasks:[]},{id:"3",name:"Stage 3",order:3,tasks:[]},{id:"4",name:"Stage 4",order:4,tasks:[]},{id:"5",name:"Stage 5",order:5,tasks:[]}]},ce=[{id:"1",name:"Ongoing",icon:"ongoing.svg"},{id:"2",name:"Stuck",icon:"stuck.svg"},{id:"3",name:"Completed",icon:"completed.svg"}],ue=m("board",{state:()=>({boards:[],currentBoard:void 0,taskStatuses:[]}),getters:{},actions:{setCurrentBoard(e){for(const t of this.boards)if(t.id===e){this.currentBoard=g(d({},t),{stages:[{id:u(),name:"Backlog",order:1,tasks:[]}]});return}},async getCurrentBoard(){this.currentBoard=de},async getBoards(){this.boards=[...ie],this.boards.sort((e,t)=>t.order-e.order)},addBoard(e){this.boards.unshift(d({id:u(),createdAt:new Date().toISOString()},e)),this.boards.length===1&&this.setCurrentBoard(this.boards[0].id)},updateBoard(e,t){var r;const s=this.boards.findIndex(o=>o.id===e);if(this.boards[s]=d(d({},this.boards[s]),t),((r=this.currentBoard)==null?void 0:r.id)===e){let o;for(o in t)this.currentBoard[o]=t[o]||""}},bulkUpdateBoardOrder(){const e=p(this.boards);console.log(e)},deleteBoard(e){var s,r,o,n;e===((s=this.currentBoard)==null?void 0:s.id)&&(e!==((r=this.boards[0])==null?void 0:r.id)?this.setCurrentBoard((o=this.boards[0])==null?void 0:o.id):this.setCurrentBoard((n=this.boards[1])==null?void 0:n.id));const t=this.boards.findIndex(a=>a.id===e);this.boards.splice(t,1)},addStage(e){!this.currentBoard||this.currentBoard.stages.push(g(d({},e),{id:u(),tasks:[]}))},updateStage(e,t){var r,o;const s=(r=this.currentBoard)==null?void 0:r.stages.findIndex(n=>n.id===e);!this.currentBoard||s===void 0||(this.currentBoard.stages[s]=d(d({},(o=this.currentBoard)==null?void 0:o.stages[s]),t))},bulkUpdateStageOrder(){if(!this.currentBoard)return;const e=p(this.currentBoard.stages);console.log(e)},deleteStage(e){var s;const t=(s=this.currentBoard)==null?void 0:s.stages.findIndex(r=>r.id===e);!this.currentBoard||t===void 0||this.currentBoard.stages[t].name==="Backlog"||this.currentBoard.stages.splice(t,1)},addTask(e){var s;const t=(s=this.currentBoard)==null?void 0:s.stages.findIndex(r=>r.id===e.stageId);!this.currentBoard||t===void 0||this.currentBoard.stages[t].tasks.push(d({id:u()},e))},updateTask(e,t,s){var n;const r=(n=this.currentBoard)==null?void 0:n.stages.findIndex(a=>a.id===e);if(!this.currentBoard||r===void 0)return;const o=this.currentBoard.stages[r].tasks.findIndex(a=>a.id===t);o!==void 0&&(this.currentBoard.stages[r].tasks[o]=d(d({},this.currentBoard.stages[r].tasks[o]),s))},bulkUpdateTaskOrder(e){var r;if(!this.currentBoard)return;const t=(r=this.currentBoard)==null?void 0:r.stages.findIndex(o=>o.id===e);if(t===void 0)return;const s=p(this.currentBoard.stages[t].tasks);console.log(s)},deleteTask(e,t){var o;const s=(o=this.currentBoard)==null?void 0:o.stages.findIndex(n=>n.id===e);if(!this.currentBoard||s===void 0)return;const r=this.currentBoard.stages[s].tasks.findIndex(n=>n.id===t);r!==void 0&&this.currentBoard.stages[s].tasks.splice(r,1)},getTaskStatuses(){this.taskStatuses=ce}}}),ge={apiKey:"AIzaSyAz9RGISqpbq-DYM9UEWbLrDPdjIE7mntE",authDomain:"kanban-97aa3.firebaseapp.com",projectId:"kanban-97aa3",storageBucket:"kanban-97aa3.appspot.com",messagingSenderId:"681741127098",appId:"1:681741127098:web:74f46491bc9f6246412183",measurementId:"G-PKHXSFZHSH"},le=U(ge),h=$(le);console.log("userStore");const f=m("user",{state:()=>({uid:"",userInfo:{name:"",user_uid:"",photo:""},email:"",isLoggedIn:!1}),getters:{},actions:{async createUser(e,t,s){const r=c(),o=await N(r,t,s);console.log(o.user),await B(l(h,"users"),{name:e,user_uid:o.user.uid})},async signInUser(e,t){const s=c(),r=await V(s,e,t);console.log(r.user)},async signInWithGoogle(){const e=new F,t=c(),s=await q(t,e);this.uid=s.user.uid,this.userInfo.name=s.user.displayName||"",this.userInfo.photo=s.user.photoURL||"",this.email=s.user.email||"",this.isLoggedIn=!0,await this.getUserInfo()||(console.log("user info does not exist in DB"),await B(l(h,"users"),{name:this.userInfo.name,user_uid:s.user.uid,photo:this.userInfo.photo}))},async logOutUser(){console.log("logout");const e=c(),t=await W(e);console.log(t)},async getUserInfo(){const e=l(h,"users"),t=z(e,G("user_uid","==",this.uid)),s=await H(t);return s.empty?!1:(s.forEach(r=>{console.log(r.id," => ",r.data()),this.userInfo=r.data()}),!0)}}}),v=m("root",{state:()=>({currentDropdown:"",previousRoutePath:""}),actions:{toggleCurrentDropdown(e){console.log("toggle",this.currentDropdown),e===this.currentDropdown?this.currentDropdown="":this.currentDropdown=e},resetStores(){console.log("reset"),f().$reset,ue().$reset,this.$reset}}}),pe=[{path:"/account",component:()=>i(()=>import("./AccountLayout.5b1b0a4a.js"),["assets/AccountLayout.5b1b0a4a.js","assets/AccountLayout.600492b9.css","assets/vendor.a7353654.js"]),children:[{path:"login",name:"Login",component:()=>i(()=>import("./Login.41de4d0c.js"),["assets/Login.41de4d0c.js","assets/vendor.a7353654.js","assets/rs-logo.b627cd2f.js","assets/Button.d4bdf23c.js","assets/Button.5365f21b.css","assets/debounce.614b3d5c.js"])},{path:"create",name:"Create Account",component:()=>i(()=>import("./CreateAccount.5e7067b5.js"),["assets/CreateAccount.5e7067b5.js","assets/vendor.a7353654.js","assets/rs-logo.b627cd2f.js","assets/Button.d4bdf23c.js","assets/Button.5365f21b.css","assets/debounce.614b3d5c.js"])},{path:"forgot-password",name:"Forgot Password",component:()=>i(()=>import("./ForgotPassword.f33f8e23.js"),["assets/ForgotPassword.f33f8e23.js","assets/vendor.a7353654.js"])}]},{path:"/",component:()=>i(()=>import("./DashboardLayout.d0d68990.js"),["assets/DashboardLayout.d0d68990.js","assets/vendor.a7353654.js","assets/rs-logo.b627cd2f.js"]),meta:{requiresAuth:!1},children:[{path:"/",name:"Home",component:()=>i(()=>import("./Home.eb69f484.js"),["assets/Home.eb69f484.js","assets/Home.d3f757db.css","assets/vendor.a7353654.js","assets/Button.d4bdf23c.js","assets/Button.5365f21b.css"])},{path:"/workspaces",name:"Workspaces",component:()=>i(()=>import("./Workspaces.8b7ea4f3.js"),["assets/Workspaces.8b7ea4f3.js","assets/vendor.a7353654.js"])},{path:"/members",name:"Members",component:()=>i(()=>import("./Members.0c3c2e79.js"),["assets/Members.0c3c2e79.js","assets/vendor.a7353654.js"])},{path:"/time-logs",name:"Timelogs",component:()=>i(()=>import("./Timelogs.8d2d3cd5.js"),["assets/Timelogs.8d2d3cd5.js","assets/vendor.a7353654.js"])},{path:"/settings",name:"Settings",component:()=>i(()=>import("./Settings.ca86d8a7.js"),["assets/Settings.ca86d8a7.js","assets/vendor.a7353654.js"])},{path:"/notifications",name:"Notifications",component:()=>i(()=>import("./Notifications.ddca263d.js"),["assets/Notifications.ddca263d.js","assets/vendor.a7353654.js"])},{path:"/messages",name:"Messages",component:()=>i(()=>import("./Messages.7b41469e.js"),["assets/Messages.7b41469e.js","assets/vendor.a7353654.js"])}]},{path:"/:catchAll(.*)",component:ae,name:"NotFound"}],w=K({history:j(),routes:pe});w.beforeEach((e,t)=>{var n,a;const s=v(),r=f();s.previousRoutePath=((n=t.path)==null?void 0:n.toString())||"";let o="Kanban".toString();if(o+=" | "+((a=e.name)==null?void 0:a.toString()),document.title=o||"Kanban",console.log(e.meta),e.meta.requiresAuth&&!r.isLoggedIn)return{name:"Login"}});const he=c();let S;M(he,e=>{S||(S=X(ee).use(Y()).use(w).mount("#app"));const t=f(),s=v();e?(t.uid=e.uid,t.getUserInfo(),e.email&&(t.email=e.email),t.isLoggedIn=!0,console.log("loggedIn",t.email,t.uid)):s.resetStores()});export{b as _,f as a,ue as b,v as u};

var O=Object.defineProperty,x=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var I=(e,t,r)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))y.call(t,r)&&I(e,r,t[r]);if(_)for(var r of _(t))T.call(t,r)&&I(e,r,t[r]);return e},g=(e,t)=>x(e,P(t));import{r as L,o as D,c as R,a as C,d as m,v as u,i as U,P as $,g as c,b as N,u as B,w as l,s as V,G as F,e as q,f as W,h as z,D as G,j as H,k as K,l as j,m as M,n as X,p as Y}from"./vendor.a7353654.js";const Z=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}};Z();var b=(e,t)=>{const r=e.__vccOpts||e;for(const[s,o]of t)r[s]=o;return r};const J={};function Q(e,t){const r=L("router-view");return D(),R(r)}var ee=b(J,[["render",Q]]);const te="modulepreload",k={},re="/",i=function(t,r){return!r||r.length===0?t():Promise.all(r.map(s=>{if(s=`${re}${s}`,s in k)return;k[s]=!0;const o=s.endsWith(".css"),n=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${n}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":te,o||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),o)return new Promise((E,A)=>{a.addEventListener("load",E),a.addEventListener("error",A)})})).then(()=>t())},se={},oe={class:"w-screen h-screen flex justify-center items-center bg-white text-3xl text-grey-6"};function ne(e,t,r,s,o,n){return D(),C("div",oe," 404 | Not Found ")}var ae=b(se,[["render",ne]]);const p=e=>{const t=[],r=e.length;for(let s=0;s<r;s++)e[s].order!==r-s&&(e[s].order=r-s,t.push({id:e[s].id,order:r-s}));return t},ie=[{id:"1",createdAt:new Date().toISOString(),name:"Board 1",description:"Board 1 Description",order:4},{id:"2",createdAt:new Date().toISOString(),name:"Board 2",description:"Board 2 Description",order:2},{id:"3",createdAt:new Date().toISOString(),name:"Board 3",description:"Board 3 Description",order:3},{id:"4",createdAt:new Date().toISOString(),name:"Board 4",description:"Board 4 Description",order:1},{id:"5",createdAt:new Date().toISOString(),name:"Board 5",description:"Board 5 Description",order:5}],de={id:"2",createdAt:new Date().toISOString(),name:"Board 2",description:"Board 2 Description",order:2,stages:[{id:"1",name:"Backlog",order:1,tasks:[{id:"1",name:"Backlog Task 1",description:"Backlog Task 1 Description",color:"#99F997",order:1,stageId:"1",assignee:"Assignee 1",statusId:"3",dueDate:new Date().toISOString()},{id:"2",name:"Backlog Task 2",description:"Backlog Task 2 Description",color:"#99F997",order:2,stageId:"1",assignee:"",statusId:"1",dueDate:new Date().toISOString()},{id:"3",name:"Backlog Task 3",description:"Backlog Task 3 Description",color:"#99F997",order:3,stageId:"1",assignee:"Rakib Sazib",statusId:"2",dueDate:new Date().toISOString()},{id:"4",name:"Backlog Task 4",description:"Backlog Task 4 Description",color:"#99F997",order:3,stageId:"1",assignee:"Rakib Sazib",statusId:"2",dueDate:new Date().toISOString()},{id:"5",name:"Backlog Task 5",description:"Backlog Task 5 Description",color:"#99F997",order:5,stageId:"1",assignee:"Rakib Sazib",statusId:"2",dueDate:new Date().toISOString()}]},{id:"2",name:"Stage 2",order:2,tasks:[]},{id:"3",name:"Stage 3",order:3,tasks:[]},{id:"4",name:"Stage 4",order:4,tasks:[]},{id:"5",name:"Stage 5",order:5,tasks:[]}]},ce=[{id:"1",name:"Ongoing",icon:"ongoing.svg"},{id:"2",name:"Stuck",icon:"stuck.svg"},{id:"3",name:"Completed",icon:"completed.svg"}],ue=m("board",{state:()=>({boards:[],currentBoard:void 0,taskStatuses:[]}),getters:{},actions:{setCurrentBoard(e){for(const t of this.boards)if(t.id===e){this.currentBoard=g(d({},t),{stages:[{id:u(),name:"Backlog",order:1,tasks:[]}]});return}},async getCurrentBoard(){this.currentBoard=de},async getBoards(){this.boards=[...ie],this.boards.sort((e,t)=>t.order-e.order)},addBoard(e){this.boards.unshift(d({id:u(),createdAt:new Date().toISOString()},e)),this.boards.length===1&&this.setCurrentBoard(this.boards[0].id)},updateBoard(e,t){var s;const r=this.boards.findIndex(o=>o.id===e);if(this.boards[r]=d(d({},this.boards[r]),t),((s=this.currentBoard)==null?void 0:s.id)===e){let o;for(o in t)this.currentBoard[o]=t[o]||""}},bulkUpdateBoardOrder(){const e=p(this.boards);console.log(e)},deleteBoard(e){var r,s,o,n;e===((r=this.currentBoard)==null?void 0:r.id)&&(e!==((s=this.boards[0])==null?void 0:s.id)?this.setCurrentBoard((o=this.boards[0])==null?void 0:o.id):this.setCurrentBoard((n=this.boards[1])==null?void 0:n.id));const t=this.boards.findIndex(a=>a.id===e);this.boards.splice(t,1)},addStage(e){!this.currentBoard||this.currentBoard.stages.push(g(d({},e),{id:u(),tasks:[]}))},updateStage(e,t){var s,o;const r=(s=this.currentBoard)==null?void 0:s.stages.findIndex(n=>n.id===e);!this.currentBoard||r===void 0||(this.currentBoard.stages[r]=d(d({},(o=this.currentBoard)==null?void 0:o.stages[r]),t))},bulkUpdateStageOrder(){if(!this.currentBoard)return;const e=p(this.currentBoard.stages);console.log(e)},deleteStage(e){var r;const t=(r=this.currentBoard)==null?void 0:r.stages.findIndex(s=>s.id===e);!this.currentBoard||t===void 0||this.currentBoard.stages[t].name==="Backlog"||this.currentBoard.stages.splice(t,1)},addTask(e){var r;const t=(r=this.currentBoard)==null?void 0:r.stages.findIndex(s=>s.id===e.stageId);!this.currentBoard||t===void 0||this.currentBoard.stages[t].tasks.push(d({id:u()},e))},updateTask(e,t,r){var n;const s=(n=this.currentBoard)==null?void 0:n.stages.findIndex(a=>a.id===e);if(!this.currentBoard||s===void 0)return;const o=this.currentBoard.stages[s].tasks.findIndex(a=>a.id===t);o!==void 0&&(this.currentBoard.stages[s].tasks[o]=d(d({},this.currentBoard.stages[s].tasks[o]),r))},bulkUpdateTaskOrder(e){var s;if(!this.currentBoard)return;const t=(s=this.currentBoard)==null?void 0:s.stages.findIndex(o=>o.id===e);if(t===void 0)return;const r=p(this.currentBoard.stages[t].tasks);console.log(r)},deleteTask(e,t){var o;const r=(o=this.currentBoard)==null?void 0:o.stages.findIndex(n=>n.id===e);if(!this.currentBoard||r===void 0)return;const s=this.currentBoard.stages[r].tasks.findIndex(n=>n.id===t);s!==void 0&&this.currentBoard.stages[r].tasks.splice(s,1)},getTaskStatuses(){this.taskStatuses=ce}}}),ge={apiKey:"AIzaSyAz9RGISqpbq-DYM9UEWbLrDPdjIE7mntE",authDomain:"kanban-97aa3.firebaseapp.com",projectId:"kanban-97aa3",storageBucket:"kanban-97aa3.appspot.com",messagingSenderId:"681741127098",appId:"1:681741127098:web:74f46491bc9f6246412183",measurementId:"G-PKHXSFZHSH"},le=U(ge),h=$(le);console.log("userStore");const f=m("user",{state:()=>({uid:"",userInfo:{name:"",user_uid:"",photo:""},email:"",isLoggedIn:!1}),getters:{},actions:{async createUser(e,t,r){const s=c(),o=await N(s,t,r);console.log(o.user),await B(l(h,"users"),{name:e,user_uid:o.user.uid})},async signInUser(e,t){const r=c(),s=await V(r,e,t);console.log(s.user)},async signInWithGoogle(){const e=new F,t=c(),r=await q(t,e);this.uid=r.user.uid,this.userInfo.name=r.user.displayName||"",this.userInfo.photo=r.user.photoURL||"",this.email=r.user.email||"",this.isLoggedIn=!0,await this.getUserInfo()||(console.log("user info does not exist in DB"),await B(l(h,"users"),{name:this.userInfo.name,user_uid:r.user.uid,photo:this.userInfo.photo}))},async logOutUser(){console.log("logout");const e=c(),t=await W(e);console.log(t)},async getUserInfo(){const e=l(h,"users"),t=z(e,G("user_uid","==",this.uid)),r=await H(t);return r.empty?!1:(r.forEach(s=>{console.log(s.id," => ",s.data()),this.userInfo=s.data()}),!0)}}}),v=m("root",{state:()=>({currentDropdown:"",previousRoutePath:""}),actions:{toggleCurrentDropdown(e){console.log("toggle",this.currentDropdown),e===this.currentDropdown?this.currentDropdown="":this.currentDropdown=e},resetStores(){console.log("reset"),f().$reset,ue().$reset,this.$reset}}}),pe=[{path:"/account",component:()=>i(()=>import("./AccountLayout.007fa9e1.js"),["assets/AccountLayout.007fa9e1.js","assets/AccountLayout.600492b9.css","assets/vendor.a7353654.js"]),children:[{path:"login",name:"Login",component:()=>i(()=>import("./Login.1d040500.js"),["assets/Login.1d040500.js","assets/vendor.a7353654.js","assets/rs-logo.b627cd2f.js","assets/Button.0e1fcce0.js","assets/Button.5365f21b.css","assets/debounce.614b3d5c.js"])},{path:"create",name:"Create Account",component:()=>i(()=>import("./CreateAccount.1080b066.js"),["assets/CreateAccount.1080b066.js","assets/vendor.a7353654.js","assets/rs-logo.b627cd2f.js","assets/Button.0e1fcce0.js","assets/Button.5365f21b.css","assets/debounce.614b3d5c.js"])},{path:"forgot-password",name:"Forgot Password",component:()=>i(()=>import("./ForgotPassword.c597020c.js"),["assets/ForgotPassword.c597020c.js","assets/vendor.a7353654.js"])}]},{path:"/",component:()=>i(()=>import("./DashboardLayout.d0d68990.js"),["assets/DashboardLayout.d0d68990.js","assets/vendor.a7353654.js","assets/rs-logo.b627cd2f.js"]),meta:{requiresAuth:!0},children:[{path:"/",name:"Home",component:()=>i(()=>import("./Home.8823626b.js"),["assets/Home.8823626b.js","assets/Home.d3f757db.css","assets/vendor.a7353654.js","assets/Button.0e1fcce0.js","assets/Button.5365f21b.css"])},{path:"/workspaces",name:"Workspaces",component:()=>i(()=>import("./Workspaces.4506b8c4.js"),["assets/Workspaces.4506b8c4.js","assets/vendor.a7353654.js"])},{path:"/members",name:"Members",component:()=>i(()=>import("./Members.862e9263.js"),["assets/Members.862e9263.js","assets/vendor.a7353654.js"])},{path:"/time-logs",name:"Timelogs",component:()=>i(()=>import("./Timelogs.5b801a03.js"),["assets/Timelogs.5b801a03.js","assets/vendor.a7353654.js"])},{path:"/settings",name:"Settings",component:()=>i(()=>import("./Settings.a662b6da.js"),["assets/Settings.a662b6da.js","assets/vendor.a7353654.js"])},{path:"/notifications",name:"Notifications",component:()=>i(()=>import("./Notifications.877a3481.js"),["assets/Notifications.877a3481.js","assets/vendor.a7353654.js"])},{path:"/messages",name:"Messages",component:()=>i(()=>import("./Messages.3872cea4.js"),["assets/Messages.3872cea4.js","assets/vendor.a7353654.js"])}]},{path:"/:catchAll(.*)",component:ae,name:"NotFound"}],w=K({history:j(),routes:pe});w.beforeEach((e,t)=>{var n,a;const r=v(),s=f();r.previousRoutePath=((n=t.path)==null?void 0:n.toString())||"";let o="Kanban".toString();if(o+=" | "+((a=e.name)==null?void 0:a.toString()),document.title=o||"Kanban",console.log(e.meta),e.meta.requiresAuth&&!s.isLoggedIn)return{name:"Login"}});const he=c();let S;M(he,e=>{S||(S=X(ee).use(Y()).use(w).mount("#app"));const t=f(),r=v();e?(t.uid=e.uid,t.getUserInfo(),e.email&&(t.email=e.email),t.isLoggedIn=!0,console.log("loggedIn",t.email,t.uid)):r.resetStores()});export{b as _,f as a,ue as b,v as u};
